// -----------------------------------------------------------------------------
// Image Grid
// -----------------------------------------------------------------------------

.image-grid {
    display: grid;
    gap: 1rem;
    position: relative;

    &--hero {
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(4, 1fr);
        height: 350px;
        @include breakpoint('large') {
            height: 450px;
        }

        .image-grid__item {
            overflow: hidden;
            border-radius: 12px;
            transition: transform 0.3s ease;
            box-shadow: 0 .625rem 1.875rem rgba(get-color(dark-grey), 0.3);

            &:hover {
                transform: scale(1.02);
                z-index: 10;
            }

            // Specific grid positions for a "cluster" look
            &--1 {
                grid-column: 1 / 3;
                grid-row: 1 / 4;
            }

            &--2 {
                grid-column: 3 / 5;
                grid-row: 1 / 3;
            }

            &--3 {
                grid-column: 3 / 5;
                grid-row: 3 / 5;
            }

            &--4 {
                grid-column: 1 / 2;
                grid-row: 4 / 5;
            }

            &--5 {
                grid-column: 2 / 3;
                grid-row: 4 / 5;
            }
        }
        
        .image-grid__img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    }


    &--full {
        display: block; // Masonry works better with block + columns than grid
        column-count: 1;
        column-gap: 1rem;

        @include breakpoint('medium') { column-count: 2; }
        @include breakpoint('large') { column-count: 3; }
        @include breakpoint('xlarge') { column-count: 4; }

        .image-grid__item {
            display: inline-block; // Required for column wrapping
            width: 100%;
            margin-bottom: 1rem; // Spacing between items in the same column
            break-inside: avoid; // Prevents an image from splitting between columns
            
            border-radius: 12px;
            box-shadow: 0 .625rem 1.875rem rgba(get-color(dark-grey), 0.15);
            transition: transform 0.3s ease;

            &:hover { transform: scale(1.02); }
        }

        .image-grid__img {
            height: auto; // Let natural aspect ratio show
            aspect-ratio: auto; 
        }
    }
}